<!DOCTYPE HTML>
<html>
<!-- Gregory Abbene  
     Due: October 17 2012
     Introduction to Programming, MT 11:00-12:15 W 9:30-10:45
     Project 3 - A Song of Ice and Fire (Text adventure) -->
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
   <meta name="author" content="Greg Abbene" />
   <title>A Song of Ice and Fire: Tyrion's Adventure(Text Adventure Game)</title>
   <script type="Text/JavaScript">
      //Global Variables to help track score and location.
      var currentScore     = 0;
      var northVisited     = false;  
      var eastVisited      = false;
      var westVisited      = false;
      var southVisited     = false;
      var barVisited       = false;
      var stallVisited     = false;
      var farnorthVisited  = false;
      var currentLocation  = 0;
      
      //NEED TO CHANGE!!!! DIFFERENT FUNCTION PER LOCATION!! EX: if go n s e= cant go this way, if w then you go to...
      // Set up 4 global variables var North=1, var West=2
      /*var NORTH    = 1;
      var WEST     = 2;
      var EAST     = 3;
      var SOUTH    = 4;
      var BAR      = 5;
      var STALL    = 6;
      var FARNORTH = 10;
      */
      //NOT SURE IF THIS WILL WORK
      //Make 6 seperate functions for each location and use if currentLocation =0,CASE SWITCH....NOT else if... else if...else if...else if...
      
      function location_switch (location) {
        switch(location) {
        
          case "townSquare" : var msg = "You are back in the townsquare, the starting location."                            
                             updateDisplay(msg);
                             document.getElementById("btnNorth").style.visibility="visible";
                             document.getElementById("btnWest").style.visibility="visible";
                             document.getElementById("btnEast").style.visibility="visible";
                             document.getElementById("btnSouth").style.visibility="visible";
                             break;
                             
          case "leaveCastle" : var msg = "You slowly wobble out of the castle, but you should explore around a little bit. It's a small castle, who knows you could find some crucial items....To the West there is a small hut, Kings Landing is NORTH, and nothing is immediatly to the EAST"
                              updateDisplay(msg);
                              document.getElementById("btnNorth").style.visibility="visible";
                              document.getElementById("btnWest").style.visibility="visible";
                              document.getElementById("btnEast").style.visibility="hidden";
                              document.getElementById("btnSouth").style.visibility="visible";
                                if(!northVisited){
                                  currentScore += 5;
                                  northVisited = true;
                                }                             
                              break;
                                
          case "barEntrance" : var msg = "You are at the opened-entrance of the town Inn (Stumble INN), time for another drink. I guess the best way to remember where you left your stuff is to get into the same mindset as last night. Go WEST to enter the bar."   
                              updateDisplay(msg);
                              document.getElementById("btnNorth").style.visibility="hidden";
                              document.getElementById("btnWest").style.visibility="visible";
                              document.getElementById("btnEast").style.visibility="visible";
                              document.getElementById("btnSouth").style.visibility="hidden";
                                if(!westVisited){
                                  currentScore += 5;
                                  westVisited = true;
                                } 
                               break;
                               
          case "stallEntrance" : var msg = "you are at the opened and smelly entrance of a stall. Please go EAST to enter the stall."
                                 updateDisplay(msg);
                                 document.getElementById("btnNorth").style.visibility="hidden";
                                 document.getElementById("btnWest").style.visibility="visible";
                                 document.getElementById("btnEast").style.visibility="visible";
                                 document.getElementById("btnSouth").style.visibility="hidden";
                                  if(!eastVisited){
                                    currentScore += 5;
                                    eastVisited = true;
                                  }
                                  break;
                                  
           case "bar"         : var msg = "MAKE BAR TEXT! TYPE IN EAST TO LEAVE"
                               updateDisplay(msg);
                               document.getElementById("btnNorth").style.visibility="hidden";
                               document.getElementById("btnWest").style.visibility="hidden";
                               document.getElementById("btnEast").style.visibility="visible";
                               document.getElementById("btnSouth").style.visibility="hidden";
                                if(!barVisited){
                                  currentScore += 5;
                                  barVisited = true;
                                }
                               break;
                               
           case "stall"      : var msg = "You go back into your most recent resting place, the comfy (horse-free) horse stall, is there something in that manure? Go WEST to leave the stall"
                              updateDisplay(msg)
                              document.getElementById("btnNorth").style.visibility="hidden";
                              document.getElementById("btnWest").style.visibility="hidden";
                              document.getElementById("btnEast").style.visibility="visible";
                              document.getElementById("btnSouth").style.visibility="hidden";
                                if(!stallVisited){
                                  currentScore += 5;
                                  stallVisited = true;
                                }
                                break;
          
          case "farnorth"    : var msg = "NEED TO MAKE LOCATION"
                              updateDisplay(msg)
                              document.getElementById("btnNorth").style.visibility="hidden";
                              document.getElementById("btnWest").style.visibility="hidden";
                              document.getElementById("btnEast").style.visibility="hidden";
                              document.getElementById("btnSouth").style.visibility="visible";
                                if(!farnorthVisited){
                                  currentScore += 5;
                                  farnorthVisited = true;
                                }
                                break;                                
                                
          default            : var msg = "ERROR, ERROR, ERROR...ABORT CHANGES!!"
                              updateDisplay(msg);
                              break;      
        }                  
      }  
      
      function btn_north() {
        var msg = "Invalid Command..please try again."
          if (currentLocation === 0) {
            currentLocation = 1;
            location_switch("leaveCastle");
        }   else if (currentLocation === 4) {
              currentLocation = 0;
              location_switch("townsquare");
            } else if (currentLocation === 1) {
                currentLocation = 10;
                location_switch("farnorth");
              }
      }
      
      function btn_west() {
      
      }

      function btn_east() {
      
      }
      
      function btn_south() {
      
      }                  
      /* function btn_move_click(direction){
         var msg = "Invalid Command..please try again." 
            if (direction === NORTH) {
            currentLocation = 1;
            //***Updating msg and score in location_switch***
            //updateDisplay("You slowly wobble out of the castle, but you should explore around a little bit. It's a small castle, who knows you could find some crucial items....");
            //if(!northVisited){
              //currentScore += 5;
              //northVisited = true;
            //}
        }
        
        //FIX THIS BUTTON  TAKE OUT SECOND LOCATION AND SET UP CASE SWITCH OR ELSE IT WILL NOT WORK!!!!           
             else if(direction === WEST) {
                if (currentLocation === 0);
                currentLocation = 2;
                //updateDisplay("You are at the opened-entrance of the town Inn (Stumble INN), time for another drink. I guess the best way to remember where you left your stuff is to get into the same mindset as last night.");
                  //if(!westVisited){
                     //currentScore += 5;
                    // westVisited = true;
                  }
                  //*********NEED TO ADD SECOND LOCATIONS FOR WEST-->BAR AND ALSO FOR EAST stall***************
                  /*else (currentLocation === 2); {
                  currentLocation = 5;
                  updateDisplay("Naturally you find yourself float towards the bartender...you think to yourself 'Should I get a drink or talk to the guy with what appears to be your sword around his waste.'");
                    if(!barVisited){
                      currentScore += 5;
                      barVisited = true;
                    }
                }   
             }
                 
             else if(direction === EAST) {
                currentLocation = 3;
                
                
                //USE FOR stall DISPLAY
                updateDisplay("You go back into your most recent resting place, the comfy (horse-free) horse stall, is there something in that manure?");
                if(!stallVisited){
                  currentScore += 5;
                  stallVisited = true;
                }
                //if(!eastVisited){
                  //currentScore += 5;
                  //eastVisited = true;
                //}
              }
             else if(direction === SOUTH) {
                currentLocation = 4;
                updateDisplay("There appears to be a stone wall there, grow 25 feet then see if you can climb that. You'll get some points for the effort though...");
                if(!southVisited){
                  currentScore += 5;
                  southVisited = true;
                }
              }
              else {
                 var msg = "ERROR, ERROR, ERROR...ABORT CHANGES!!"
                 updateDisplay(msg);
              }
            } 
       */
            
       function btn_go_click() {
          var command = document.getElementById("txtCommand")
          switch(command.value){
            case "N"     : 
            case "n"     : 
            case "north" : 
            case "North" : 
            case "NORTH" : btn_north();
              break;
              
            case "S"     : 
            case "s"     : 
            case "south" : 
            case "South" : 
            case "SOUTH" : btn_south();
              break;
              
            case "E"     : 
            case "e"     : 
            case "east"  : 
            case "East"  : 
            case "EAST"  : btn_east();
              break;
              
            case "W"     : 
            case "w"     : 
            case "west"  : 
            case "West"  : 
            case "WEST"  : btn_west();
              break;
              
            default      : var msg = "Invalid Command...''you shouldn't be here.'' (Luke ignores) ''My friend doesn't like you..... I don't like you.'' Luke responds ''I'm sorry.'' the fugitive responds''You'll be dead.''...theoretical lightsaber to the face for putting in the wrong command...try any direction variation such as e, E, east, East, or EAST."
                            updateDisplay(msg);
              break;
            }
       }       
        
           //
           //***
           //Get text command to work so input of directions will trigger the direction and store location
           //***
           //

           // ALSO FIGURE OUT HOW TO MAKE COUNTER OF SCORE INSTEAD OF SCORE BUTTON WITH ALERT
      function updateDisplay(msg){                                   //need to fix updating current score per click or set up counter 
        msg = msg + " 'Current Location' = [" + currentLocation + "]" /*+ " 'Current Score' = [" + currentScore + "]" */
        var ta = document.getElementById("Textarea");
        ta.value = msg + "\n" + "\n" + ta.value; 
       } /*want to add Text at bottom with a line break and each addition separate..also want auto scroll down */
       
   </script>
   <style type="Text/css">
     body {background-color: #0000FF; font-family: "Georgia"; color: white;} 
     .mailto {background-color: red; color: White;}    
     .Textarea {background-color: black; color: #C0C0C0; font-size: 12pt; font-weight: bold}
     .validator {background-color: #FFFFFF}
   </style>
</head>
<body>
  <h1>A Song Of Ice and Fire: Tyrion's Adventure</h1>
    <Textarea class= "Textarea" id="Textarea" rows="22" cols= "60">Welcome to A Song of Ice and Fire the Text Adventure! (Based on the amazing novels written by George R.R Martin).........WINTER IS COMING! 
  
  You will be playing as Tyrion Lannister...the wealthy, witty, and whimsical Imp. You find yourself in quite the predicament...like always.
  
  With an aching head and a dry mouth from what you presume to be from another overdose of Dornish wine from last night, you find yourself slowly lifting up your body off the cold dirty ground. Shortly after pulling yourself up, you slip into a pile of manure. I guess your visit to Ashford didn't go as planned. Time to weasel your way back to your home in King's Landing, again.
  
  Your journey starts in a mild inebriation covered in a mixture of manure and hay. In the middle of the town square involuntarily disguised as a common folk, the first decision awaits. With a fogged mind you recall that King's Landing is somewhat NORTHEAST of here, but first you must gather some of your lost belongings and embark on a dangerous navigation back home.</Textarea>

    <p style= "Text-indent: 75px" >
    <span style= "color: #C0C0C0;">Enter Command </span>
    <input type="text" 
           size= "30"
           id="txtCommand" 
           value="">
       
    <input type="button"
           value="Go"
           onclick="btn_go_click()" 
           id="btnGo">
    </p>
    <p style="Text-indent: 275px">
      <input type="button"  
             value="North"
             onclick="btn_north()" 
             id="btnNorth">
    </p>    
    <p style="Text-indent: 250px">       
      <input type="button"  
             value="West"
             onclick="btn_west()" 
             id="btnWest">

      <input type="button"  
             value="East"
             onclick="btn_east()" 
             id="btnEast">      
    </p>  
  
    <p style="Text-indent: 275px">       
      <input type="button"  
             value="South"
             onclick="btn_south()" 
             id="btnSouth">  
    </p>  
    <!-- ***Need to get rid of alerts for currentScore and currentLocation*** POSSIBLY MAKE FUNCTIONS FOR EACH FOR updateDisplay( "/n" + "Your score is: " + currentScore)  
        -->
    <p style="Text-indent: 275px">       
      <input type="button"  
             value="Score"
             onclick="alert(currentScore)" 
             id="btnScore">  
    </p>  
    <p style="Text-indent: 245px">       
      <input type="button"  
             value="Current Location"
             onclick="alert(currentLocation)" 
             id="btnLocation">     
              
    <p class= "mailto" style="Text-indent: 200px" >
        Any questions?  Please <a href = "mailto:gabbene23@gmail.com"> email me.</a>
    </p>
    
    <p class= "validator" style="Text-indent: 275px;">
       <a href = "http://validator.w3.org/#validate_by_input"> Validator. </a> 
    </p> 
  
</body>
</html>